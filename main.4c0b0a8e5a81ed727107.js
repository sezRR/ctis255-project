function e(e,t=!1){$(`link[href="${e}"]`).length||$("<link>").attr("rel","stylesheet").attr("href",e).attr("data-dynamic",!0).attr("data-layout",t).appendTo("head")}const t=function(){const e={};return{getTemplate:function(t,n){e[t]?n(e[t]):$.get(t,(function(o){e[t]=o,n(o)}))}}}(),n=function({containerSelector:n,icon:o,iconGroup:c="fa-solid",text:r,type:a="primary",onClick:s}){e("src/components/button/button.css"),t.getTemplate("src/components/button/button.html",(function(e){const t=e.replace("{{iconGroup}}",c).replace("{{iconName}}",o).replace("{{text}}",r).replace("{{type}}",a),i=$(t);$(n).append(i),s&&i.on("click",s)}))},o=class{constructor(e,t,n){this.id=e,this.amount=t,this.calculateSubtotal(n)}calculateSubtotal(e){return this.subtotal=this.amount*e,this.subtotal}},c=class{constructor(e,t=100){this.id=crypto.randomUUID(),this.name=e,this.balance=t,this.assets=[new o("dollar",t,1)],this.updatedAt=(new Date).getTime(),this.lastSelectedAssetId="btc"}},r={},a=function({containerSelector:n,customClasses:o,source:c,size:r,alt:a="Image",id:s,callback:i}){e("src/components/image/image.css"),t.getTemplate("src/components/image/image.html",(function(e){const t=$(e);s&&t.attr("id",s),t.attr("src",c),t.attr("alt",a),o&&t.addClass(o),r&&(t.css("width",`${r}px`),t.css("height",`${r}px`)),$(n).append(t),i&&i({id:s,source:c,alt:a,size:r})}))},s=function(n){e("src/components/cryptocurrency-components/chart-components/coin-filter/coin-filter.css"),t.getTemplate("src/components/cryptocurrency-components/chart-components/coin-filter/coin-filter.html",(function(e){$(n).append(e),fetch("src/assets/data/coins.json").then((e=>e.json())).then((e=>{for(const t of e)a({containerSelector:"#coin-filter-content-container",id:t.id,source:t.img,alt:t.name,size:"36",callback:({id:e})=>{t.id===r.currentUser.lastSelectedAssetId&&$(`#${e}`).toggleClass("selected-coin"),$(`#${e}`).click((function(){$(`#${r.currentUser.lastSelectedAssetId}`).removeClass("selected-coin"),$(this).toggleClass("selected-coin"),r.currentUser.lastSelectedAssetId=e}))}})})).catch((e=>{console.error("Error fetching coins:",e)}))}))},i=function(e){t.getTemplate("src/components/cryptocurrency-components/chart-components/chart-composition.html",(function(t){$(e).append(t),s("#coin-filter-container")}))},l=function(){t.getTemplate("src/pages/cryptocurrency-page/cryptocurrency-page.html",(function(e){$("#content").html(e),h.render("#header","CTIS","Crypto Trading Information System"),i("#chart-container")}))},p={render:function(){e("src/pages/profiles-page/profiles-page.css"),t.getTemplate("src/pages/profiles-page/profiles-page.html",(function(e){$(document).ready((function(){const e=JSON.parse(localStorage.getItem("users"))||[];e.length&&$(".user-part").css("display","none");for(const t of e){const e=d(t.name),n=$(e);$(n).attr("data-id",t.id),$(".profile-cards").append(n)}$(".new-profile").click((function(){$(".overlay").fadeIn(),$(".overlay").toggleClass("overlay-active")})),$(".overlay").click((function(){$(".overlay").fadeOut(),$(".overlay").fadeOut((function(){$(".overlay").toggleClass("overlay-active")}))})),$(".modal").click((function(e){e.stopPropagation()})),$(".modal button").click((function(){!function(){const e=$(".modal input").val();if(e){const t=new c(e),n=d(t.name),o=$(n);$(o).attr("data-id",t.id),$(".profile-cards").append(o),$(".modal input").val(""),$(".overlay").fadeOut(),$(".user-part").css("display","none"),function(e,t){const n=JSON.parse(localStorage.getItem(e))||[];n.push(t),localStorage.setItem(e,JSON.stringify(n))}("users",t)}}(),$(".overlay").fadeOut(),$(".overlay").fadeOut((function(){$(".overlay").toggleClass("overlay-active")}))})),$(".profile-cards").on("click",".delete-btn",(function(e){e.stopPropagation(),$(this).closest(".user-card").fadeOut((function(){$(this).remove();let e=JSON.parse(localStorage.getItem("users"))||[];e=e.filter((e=>e.id!==$(this).data("id"))),e.length||$(".user-part").css("display","block"),localStorage.setItem("users",JSON.stringify(e))}))})),$(".profile-cards").on("click",".user-card",(function(){const e=$(this).data("id"),t=JSON.parse(localStorage.getItem("users")).find((t=>t.id===e));r.currentUser=t,l()}))})),$("#content").html(e)}))}},d=e=>`\n    <div class="user-card">\n        <span class="delete-btn">x</span>\n        <i class="fa-solid fa-user"></i>\n        <div>${e}</div>\n    </div>\n`,u=p,f={render:function(o){e("src/components/header/user-profile/user-profile.css"),t.getTemplate("src/components/header/user-profile/user-profile.html",(function(e){const t={name:r.currentUser.name};if(void 0===t)throw new Error("User is required to render the User Profile component");$(o).html(e),n({containerSelector:"#user-profile-content-container",icon:"fa-user",text:t.name,type:"secondary"}),n({containerSelector:"#user-profile-content-container",icon:"fa-door-open",text:"Logout",onClick:function(){u.render(),function(e){$(e).empty(),function(e="data-layout"){$(`link[data-dynamic="true"]:not([${e}])`).remove()}()}(o)}})}))}},m=f,h={render:function(n,o,c){e("src/components/header/header.css",!0),t.getTemplate("src/components/header/header.html",(function(e){const t=e.replace("{{title}}",o).replace("{{description}}",c);$(n).html(t),r.currentUser&&m.render("#user-profile-container")}))}};$(document).ready((function(){t.getTemplate("src/layouts/desktop-layout.html",(function(e){$("#root").html(e),h.render("#header","CTIS","Crypto Trading Information System"),u.render()}))}));